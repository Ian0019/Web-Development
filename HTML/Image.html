<html>
    <head></head>
<body>
    <img src="https://www.usnews.com/object/image/00000191-d821-d8b8-adf7-f97944b10000/chevrolet-corvette-zr1-coupe-001.jpg?update-time=1725907944302&size=responsiveGallery"height=200px>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>A Man Who Could See: Reality â€” Smart Pagination</title>
  <style>
    body {
      font-family: Georgia, 'Times New Roman', Times, serif;
      margin: 30px;
      text-align: center;
    }

    .content { display: none; opacity: 0; transition: opacity 0.35s ease; }
    .content.active { display: block; opacity: 1; }

    .pagination {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 6px;
      margin-top: 18px;
      align-items: center;
    }

    .page-btn {
      padding: 8px 12px;
      border-radius: 6px;
      border: none;
      background: #ddd;
      cursor: pointer;
      min-width: 40px;
    }

    .page-btn.small { padding: 6px 8px; min-width: auto; }
    .page-btn.active { background: #c11; color: #fff; }
    .page-btn.disabled { opacity: 0.45; pointer-events: none; }

    .dots { padding: 8px 6px; user-select: none; color: #333; }
  </style>
</head>
<body>

  <h1 style="font-size: 2.4em;">A Man Who Could See: Reality</h1>

  <!-- Example pages (you should already have these in your file) -->
  <div id="page1" class="content active">
    <h2>Author's Note</h2>
    <p>Author's note text...</p>
  </div>

  <!-- page2..page19 omitted here for brevity in sample; include them in your file -->
  <div id="page2" class="content"><h2>Page 1</h2><p>Content 1</p></div>
  <div id="page3" class="content"><h2>Page 2</h2><p>Content 2</p></div>
  <div id="page4" class="content"><h2>Page 3</h2><p>Content 3</p></div>
  <div id="page5" class="content"><h2>Page 4</h2><p>Content 4</p></div>
  <div id="page6" class="content"><h2>Page 5</h2><p>Content 5</p></div>
  <div id="page7" class="content"><h2>Page 6</h2><p>Content 6</p></div>
  <div id="page8" class="content"><h2>Page 7</h2><p>Content 7</p></div>
  <div id="page9" class="content"><h2>Page 8</h2><p>Content 8</p></div>
  <div id="page10" class="content"><h2>Page 9</h2><p>Content 9</p></div>
  <div id="page11" class="content"><h2>Page 10</h2><p>Content 10</p></div>
  <div id="page12" class="content"><h2>Page 11</h2><p>Content 11</p></div>
  <div id="page13" class="content"><h2>Page 12</h2><p>Content 12</p></div>
  <div id="page14" class="content"><h2>Page 13</h2><p>Content 13</p></div>
  <div id="page15" class="content"><h2>Page 14</h2><p>Content 14</p></div>
  <div id="page16" class="content"><h2>Page 15</h2><p>Content 15</p></div>
  <div id="page17" class="content"><h2>Page 16</h2><p>Content 16</p></div>
  <div id="page18" class="content"><h2>Page 17</h2><p>Content 17</p></div>
  <div id="page19" class="content"><h2>Page 18</h2><p>Content 18</p></div>
  <div id="page20" class="content"><h2>Epilogue</h2><p>Epilogue text...</p></div>

  <!-- Pagination container (script will render buttons here) -->
  <div id="pagination" class="pagination" aria-label="Pagination"></div>

<script>
/* ====== CONFIG ======
   - showsAround controls how many numbered pages on either side of current page
   - customLabels can override the default numeric label for any page (1-based index)
*/
const showsAround = 2; // number of pages before/after current to show (tweak this)
const customLabels = {
  1: "Author's Note",
  20: "Epilogue"
};
/* ==================== */

let currentPage = 1;
const contents = Array.from(document.querySelectorAll('.content'));
const totalPages = contents.length;
const paginationRoot = document.getElementById('pagination');

function init() {
  // Ensure currentPage is valid
  if (currentPage < 1) currentPage = 1;
  if (currentPage > totalPages) currentPage = totalPages;
  renderPagination();
  showContent(currentPage);
}

// Build the pagination UI
function renderPagination() {
  paginationRoot.innerHTML = ''; // clear

  // Prev button
  const prev = makeButton('Prev', () => changePage(currentPage - 1));
  if (currentPage === 1) prev.classList.add('disabled');
  paginationRoot.appendChild(prev);

  // Determine range to display
  let start = Math.max(1, currentPage - showsAround);
  let end = Math.min(totalPages, currentPage + showsAround);

  // Always show first page button if start > 1
  if (start > 1) {
    paginationRoot.appendChild(makePageButton(1));
    if (start > 2) paginationRoot.appendChild(makeDots());
  }

  // Main block (start..end)
  for (let i = start; i <= end; i++) {
    paginationRoot.appendChild(makePageButton(i));
  }

  // Always show last page if end < totalPages
  if (end < totalPages) {
    if (end < totalPages - 1) paginationRoot.appendChild(makeDots());
    paginationRoot.appendChild(makePageButton(totalPages));
  }

  // Next button
  const next = makeButton('Next', () => changePage(currentPage + 1));
  if (currentPage === totalPages) next.classList.add('disabled');
  paginationRoot.appendChild(next);
}

// convenience: create a generic button
function makeButton(text, onClick) {
  const b = document.createElement('button');
  b.className = 'page-btn';
  b.type = 'button';
  b.textContent = text;
  b.addEventListener('click', onClick);
  return b;
}

// create the numbered page button (and apply active class if needed)
function makePageButton(pageNumber) {
  const label = customLabels[pageNumber] || String(pageNumber - 1); // note: page2 -> "1" to match book numbering if you want
  const btn = document.createElement('button');
  btn.className = 'page-btn';
  btn.type = 'button';
  btn.textContent = label;
  // set an attribute so it's easy to inspect or style later
  btn.dataset.page = pageNumber;
  btn.addEventListener('click', () => changePage(pageNumber));
  if (pageNumber === currentPage) btn.classList.add('active');
  return btn;
}

// create dots node
function makeDots() {
  const s = document.createElement('span');
  s.className = 'dots';
  s.textContent = '...';
  return s;
}

// change page central routine
function changePage(pageNumber) {
  if (pageNumber < 1 || pageNumber > totalPages || pageNumber === currentPage) return;
  currentPage = pageNumber;
  renderPagination();
  showContent(pageNumber);
}

// show the corresponding content div
function showContent(pageNumber) {
  contents.forEach((c, idx) => {
    const p = idx + 1; // page index is 1-based (page1 -> idx 0)
    if (p === pageNumber) {
      c.classList.add('active');
      // optional: scroll to top of content if you want:
      // window.scrollTo({ top: c.offsetTop - 10, behavior: 'smooth' });
    } else {
      c.classList.remove('active');
    }
  });
}

// initialize on load
init();
</script>
</body>
</html>